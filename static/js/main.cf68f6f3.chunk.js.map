{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/SearchBar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Container/Container.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/Loader/Loader.jsx","settings/apiOptions.js","services/api-service.js","utils/scroll.js","App.js","index.js","components/SearchBar/SearchBar.module.css"],"names":["module","exports","SearchBar","state","inputValue","inputHandler","event","currentTarget","setState","value","submitForm","preventDefault","onSubmit","props","resetState","this","className","styles","Searchbar","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","onChange","placeholder","Component","ImageGalleryItem","smallImageUrl","largeImageUrl","imageName","src","alt","ImageGalleryItemImage","data-url","Container","children","ImageGallery","images","modalHandler","onClick","map","id","webformatURL","largeImageURL","tags","Button","clickHandler","modalRoot","document","querySelector","Modal","handleKeyDown","code","closeModal","overlayClickHandler","target","window","addEventListener","removeEventListener","createPortal","Overlay","Download","color","height","width","timeout","apiOptions","BASE_URL","API_KEY","IMAGES_PER_PAGE","fetchData","searchQuery","currentPage","queryString","axios","get","then","data","scrollDown","scrollTo","top","documentElement","scrollHeight","behavior","App","modalOpen","isLoading","error","toggleModal","prevState","galleryClickHandler","url","dataset","submitFormHandler","fetchImages","options","hits","catch","finally","prevProps","isLoadMoreButtonVisible","length","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cf68f6f3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__HxzSu\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__20Wn9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__27YpQ\",\"Modal\":\"Modal_Modal__2cABz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__1sRyw\",\"HeaderContainer\":\"Container_HeaderContainer__3hweT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2xhrw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2d4Z_\"};","//модули\r\nimport PropTypes from 'prop-types';\r\nimport { Component } from 'react';\r\n\r\n//компоненти\r\n\r\n\r\n//стили\r\nimport styles from './SearchBar.module.css';\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    inputValue: '',\r\n  };\r\n\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func,\r\n  };\r\n\r\n  inputHandler = event => {\r\n    const { currentTarget } = event;\r\n    this.setState({ inputValue: currentTarget.value });\r\n  };\r\n\r\n  submitForm = event => {\r\n    event.preventDefault();\r\n\r\n    const { inputValue } = this.state;\r\n    const { onSubmit } = this.props;\r\n\r\n    onSubmit(inputValue);\r\n\r\n    this.resetState();\r\n  };\r\n\r\n  resetState = () => {\r\n    this.setState({ inputValue: '' });\r\n  };\r\n\r\n  render() {\r\n    const { inputValue } = this.state;\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.submitForm}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            value={inputValue}\r\n            onChange={this.inputHandler}\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchBar.propTypes = {};\r\n\r\nexport default SearchBar;\r\n","//модули\r\nimport PropTypes from 'prop-types';\r\n\r\n//компоненты\r\n\r\n//стили\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ smallImageUrl, largeImageUrl, imageName }) => {\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img\r\n        src={smallImageUrl}\r\n        alt={imageName}\r\n        className={styles.ImageGalleryItemImage}\r\n        data-url={largeImageUrl}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  smallImageUrl: PropTypes.string,\r\n  largeImageUrl: PropTypes.string,\r\n  imageName: PropTypes.string,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","//модули\r\nimport PropTypes from 'prop-types';\r\n\r\n//стили\r\nimport styles from './Container.module.css';\r\n\r\nconst Container = ({ children }) => {\r\n  return <div className={styles.Container}>{children}</div>;\r\n};\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default Container;\r\n","//модули\r\nimport PropTypes from 'prop-types';\r\n\r\n//компоненты\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport Container from '../Container';\r\n\r\n//стили\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, modalHandler }) => {\r\n  return (\r\n    <Container>\r\n      <ul className={styles.ImageGallery} onClick={modalHandler}>\r\n        {images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            smallImageUrl={webformatURL}\r\n            largeImageUrl={largeImageURL}\r\n            imageName={tags}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </Container>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array,\r\n  modalHandler: PropTypes.func,\r\n};\r\n\r\nexport default ImageGallery;\r\n","//модули\r\nimport PropTypes from 'prop-types';\r\n\r\n//стили\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ clickHandler, children }) => {\r\n  return (\r\n    <button type=\"button\" className={styles.Button} onClick={clickHandler}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  clickHandler: PropTypes.func,\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default Button;\r\n","//модули\r\nimport { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\n//компоненты\r\n\r\n//стили\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    closeModal: PropTypes.func,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = event => {\r\n    if (event.code === 'Escape') {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  overlayClickHandler = event => {\r\n    if (event.target === event.currentTarget) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.overlayClickHandler}>\r\n        <div className={styles.Modal}>{children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","//модули\r\n// import PropTypes from 'prop-types';\r\nimport Loader from 'react-loader-spinner';\r\n\r\n//компоненты\r\n\r\n//стили\r\n// import styles from './Loader.module.css';\r\n\r\nconst Download = ({ type = 'Puff', color, height, width, timeout }) => {\r\n  return (\r\n    <Loader\r\n      type={type}\r\n      color={color}\r\n      height={height}\r\n      width={width}\r\n      timeout={timeout} //3 secs\r\n    />\r\n  );\r\n};\r\n\r\nDownload.propTypes = {};\r\n\r\nexport default Download;\r\n","const apiOptions = {\r\n  BASE_URL: 'https://pixabay.com/api/',\r\n  API_KEY: '20625460-dce04eecf80fa07713c408cae',\r\n  IMAGES_PER_PAGE: 12,\r\n};\r\n\r\nexport default apiOptions;\r\n","import axios from 'axios';\r\n\r\nimport apiOptions from '../settings/apiOptions';\r\n\r\n// axios.defaults.headers.common['Authorization'] =\r\n//   'Bearer 20625460-dce04eecf80fa07713c408cae';\r\n\r\nexport const fetchData = ({ searchQuery, currentPage }) => {\r\n  const { BASE_URL, API_KEY, IMAGES_PER_PAGE } = apiOptions;\r\n\r\n  const queryString = `${BASE_URL}?key=${API_KEY}&q=${searchQuery}&per_page=${IMAGES_PER_PAGE}&page=${currentPage}`;\r\n\r\n  return axios.get(queryString).then(({ data }) => data);\r\n};\r\n","export const scrollDown = () => {\r\n  window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: 'smooth',\r\n  });\r\n};\r\n","//модули\nimport { Component } from 'react';\n// import PropTypes from 'prop-types';\n\n//компоненты\nimport SearchBar from './components/SearchBar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport Loader from './components/Loader';\nimport Container from './components/Container';\n\n//Сервисы\nimport { fetchData } from './services/api-service';\nimport { scrollDown } from './utils/scroll';\n\nclass App extends Component {\n  state = {\n    images: [],\n    modalOpen: false,\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    largeImageUrl: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  toggleModal = () => {\n    this.setState(prevState => ({\n      modalOpen: !prevState.modalOpen,\n    }));\n  };\n\n  galleryClickHandler = event => {\n    if (event.target === event.currentTarget) return;\n\n    const url = event.target.dataset.url;\n\n    this.setState(\n      {\n        largeImageUrl: url,\n      },\n      this.toggleModal,\n    );\n  };\n\n  submitFormHandler = value => {\n    this.setState({ searchQuery: value, currentPage: 1, images: [] });\n  };\n\n  fetchImages = () => {\n    const { searchQuery, currentPage } = this.state;\n\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    fetchData(options)\n      .then(data => {\n        return this.setState(prevState => ({\n          images: [...prevState.images, ...data.hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        scrollDown();\n        this.setState({ isLoading: false });\n      });\n  };\n\n  render() {\n    const { images, isLoading, modalOpen, largeImageUrl } = this.state;\n    const isLoadMoreButtonVisible = images.length > 0 && !isLoading;\n    return (\n      <>\n        <SearchBar onSubmit={this.submitFormHandler} />\n        <ImageGallery images={images} modalHandler={this.galleryClickHandler} />\n        {isLoading && (\n          <Container>\n            <Loader type=\"ThreeDots\" />\n          </Container>\n        )}\n        {isLoadMoreButtonVisible && (\n          <Container>\n            <Button clickHandler={this.fetchImages}>Load More</Button>\n          </Container>\n        )}\n        {modalOpen && (\n          <Modal closeModal={this.toggleModal}>\n            <img src={largeImageUrl} alt=\"#\" />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n//Стили\nimport './style.css';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__1Fnj5\",\"SearchForm\":\"SearchBar_SearchForm__Go5gv\",\"SearchFormButton\":\"SearchBar_SearchFormButton__2dHy7\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__27XO1\",\"SearchFormInput\":\"SearchBar_SearchFormInput__2ZXf8\"};"],"sourceRoot":""}